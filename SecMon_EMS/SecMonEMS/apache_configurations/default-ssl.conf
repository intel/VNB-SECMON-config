<VirtualHost *:443>
    
	DocumentRoot ${PROJECT_ROOT}
    <Directory ${PROJECT_ROOT}>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
        SSLVerifyClient require
    </Directory>
    
	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

    Alias /static ${PROJECT_ROOT}/static
    <Directory ${PROJECT_ROOT}/static>
        Require all granted
    </Directory>
    
    <Directory ${PROJECT_ROOT}/ConfigAgent>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    WSGIDaemonProcess secmonemsssl python-path=${PROJECT_ROOT}:/usr/local/lib/python2.7/dist-packages python-home=/usr/
    WSGIProcessGroup secmonemsssl
    WSGIScriptAlias / ${PROJECT_ROOT}/ConfigAgent/wsgi.py

    SSLEngine on
    SSLCertificateFile ${CERT_PATH}/server.cert
    SSLCertificateKeyFile ${CERT_PATH}/server.key
    SSLCACertificateFile ${CERT_PATH}/ca.cert

</VirtualHost>
